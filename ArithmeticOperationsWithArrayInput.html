<!DOCTYPE html>
<html>
<body>

<h2>Arithmetic Operations With Array Input.</h2>

<p id="demo"></p>
<input type="text" id="t1" value='[1, "Plus", 3]'/>
<button onclick="myFunction()">Solve it</button>
<p id="demo1">Answer</p>
<p id="demo2"></p>

<script>



class Solver {
  constructor(operand1,operator,operand2) {
    this.operand1 = operand1;
    this.operator = operator;
    this.operand2 = operand2;
  }
 
  
}
function Plus(a,b) {
    return a+b;
	}
function Minus(a,b){
	return a-b;
  }
function Times(a,b){
	return a*b;
  }
function Divide(a,b){
	if (b !=0){
	return a / b;
	}
	else{
	return "Math Error: dividing by zero is not possible!!"
	}
  }



function myFunction() {
  try{
  var a1 = JSON.parse(document.getElementById("t1").value); //taking the array input
  
  
  if ((a1.length==3) && (Array.isArray(a1[0])==false) && (Array.isArray(a1[2])==false)){  //when the array is in a form [operand,"operator",operand]
  results=result(a1[0],a1[1],a1[2])
  document.getElementById("demo2").innerHTML =results;
  }
  else if ((a1.length==3)&& (Array.isArray(a1[0])==true) && (Array.isArray(a1[2])==false)){  //when the array is in a form [[operand,"operator",operand],"operator",operand]
  b1=[];
  b1[0]=result(a1[0][0],a1[0][1],a1[0][2])
  b1[1]=a1[1];
  b1[2]=a1[2];
  results=result(b1[0],b1[1],b1[2])
  document.getElementById("demo2").innerHTML =results;
  }
  else if ((a1.length==3)&& (Array.isArray(a1[0])==false) && (Array.isArray(a1[2])==true)){ //when array is in a form [operand,"operator",[operand,"operator",operand]]
  b1=[];
  b1[0]=a1[0];
  b1[1]=a1[1];
  b1[2]=result(a1[2][0],a1[2][1],a1[2][2])
  results=result(b1[0],b1[1],b1[2])
  document.getElementById("demo2").innerHTML =results;
  }
  else if ((a1.length==3)&& (Array.isArray(a1[0])==true) && (Array.isArray(a1[2])==true)){ //when array is in a form [[operand,"operator",operand],"ope",[operand,"operator",operand]]
  b1=[];
  b1[0]=result(a1[0][0],a1[0][1],a1[0][2])
  b1[1]=a1[1];
  b1[2]=result(a1[2][0],a1[2][1],a1[2][2])
  results=result(b1[0],b1[1],b1[2])
  document.getElementById("demo2").innerHTML =results;
  }
  else{
	document.getElementById("demo2").innerHTML = "Wrong input: Array should be in a form of [operand1,operator,operand2]";
  }
  }
  catch (err){
	document.getElementById("demo2").innerHTML = 'The input should be in [1, "Plus", 3] Format; String must be inside quotes " " ';
  }
  
}

function result(a,b,c){
	if((isNaN(parseFloat(a)))==false && (isNaN(parseFloat(c)))==false) {
    a=parseFloat(a)
	b=b.toLowerCase().trim()
	c=parseFloat(c)
	problem2 = new Solver(a,b,c);
	switch(b){
	case "plus":
		r=Plus(a,c)
		return r;
	case "minus":
		r=Minus(a,c)
		return r;
	case "times":
		r=Times(a,c)
		return r;
	case "divide":
		r=Divide(a,c)
		return r;
	default:
		return "Wrong Operator!!"
	}    
	}
	else{
		return "Wrong Operand!!"
	}
	
	
	


}

</script>

</body>
</html>
